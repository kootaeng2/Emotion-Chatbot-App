# 📖 개발 일기 (2025년 11월 19일)

> 거의 끝부터 쓰기 시작했지만, 더 나은 결과물을 위한 고민과 실험의 기록입니다.

## 목차

1.  [AI 모델 개선 여정](#1-ai-모델-개선-여정)
    *   [초기 모델의 한계와 새로운 아이디어](#초기-모델의-한계와-새로운-아이디어)
    *   [KOTE 데이터셋 도입 및 실험 계획](#kote-데이터셋-도입-및-실험-계획)
2.  [UI/UX 개선 사항](#2-uiux-개선-사항)
    *   [로그인/회원가입 UX 개선: Flip Animation](#로그인회원가입-ux-개선-flip-animation)
    *   [감정 분석 정확도 보완: Emotion Selection UI](#감정-분석-정확도-보완-emotion-selection-ui)
    *   [사용자 경험 보호: 분석과 저장 단계 분리](#사용자-경험-보호-분석과-저장-단계-분리)
3.  [KOTE 사전 학습 모델 실험 결과](#3-kote-사전-학습-모델-실험-결과)
    *   [실험 1: KOTE 기본 학습 결과](#실험-1-kote-기본-학습-결과)
    *   [실험 2: 수동 가중치 적용](#실험-2-수동-가중치-적용)
    *   [실험 3: 가중치 제거](#실험-3-가중치-제거)
4.  [정리 및 다음 단계](#4-정리-및-다음-단계)

---

## 1. AI 모델 개선 여정

### 초기 모델의 한계와 새로운 아이디어

컴퓨터공학과 졸업 작품 시연회에서 AI가 식물의 종류를 퍼센티지(%)로 분석하는 것을 보며, 우리 감정 분석 프로젝트에도 적용할 아이디어를 얻었습니다.

-   **기존 모델 정확도:** `79.06%`로, 다소 아쉬운 성능.
-   **초기 시도:** NSMC 데이터셋으로 1차 사전 학습을 진행하고, 가중치 조절, 오버샘플링, 대분류 등을 적용했으나 만족스러운 결과를 얻지 못했습니다.
-   **새로운 가설:** NSMC는 '긍정/부정' 분석에 특화되어 있어, 우리 프로젝트의 다중 감정 분류(대분류)에는 적합하지 않다고 판단. NSMC를 제거하고 수동 가중치로만 훈련했을 때, 오히려 **순정 모델의 성능이 가장 좋았습니다.**

이후, 사용자에게 AI가 예측한 감정 확률을 보여주고, 가장 높은 확률의 감정을 기본으로 추천하되 **사용자가 직접 수정할 수 있는 선택권**을 제공하는 방향으로 아이디어를 발전시켰습니다.

### KOTE 데이터셋 도입 및 실험 계획

KOTE(Korean Text of Emotion) 데이터셋으로 1차 사전 학습을 진행한 후, 본 학습을 진행하는 방식의 효용성을 검증해보기로 결정했습니다. 이하는 그 실험 결과에 대한 기록입니다.

---

## 2. UI/UX 개선 사항

### 로그인/회원가입 UX 개선: Flip Animation

-   **문제:** 로그인과 회원가입 페이지가 분리되어 있어 화면 전환 시 사용자 경험이 단절되는 느낌.
-   **해결:** 로그인과 회원가입 화면을 **하나의 '책(Book)'** 콘셉트로 통합.
-   **구현:**
    -   CSS `transform: rotateY(180deg)`와 `perspective`를 활용한 3D 책 넘김 애니메이션 구현.
    -   '회원가입' 버튼 클릭 시, 페이지가 넘어가는 듯한 **단일 페이지 턴(Single Page Turn)** 효과 적용.
    -   이를 통해 '책을 펼쳐 감정을 기록한다'는 감성적인 경험을 제공하고자 함.

### 감정 분석 정확도 보완: Emotion Selection UI

-   **문제:** AI의 예측이 100% 정확할 수 없으며, 사용자의 복합적인 감정을 단일 값으로 단정하기 어려움.
-   **해결:** AI의 **확신도(Confidence Score)**에 따라 UI를 유연하게 분기 처리.
-   **구현:**
    -   **확신 (80% 이상):** AI가 예측한 감정을 정답으로 자동 채택 후 결과 표시.
    -   **불확실 (80% 미만):** 상위 3개 감정과 확률을 **'감정 칩(Chips)'** 형태로 제안하여, 사용자가 직접 감정을 선택하고 수정할 수 있는 주도권 부여.

### 사용자 경험 보호: 분석과 저장 단계 분리

-   **문제:** '분석하기' 클릭 시 결과가 즉시 DB에 저장되어, 원치 않는 기록이 남을 수 있음.
-   **해결:** **`[분석] → [확인/수정] → [저장]`**으로 이어지는 안전한 플로우 구축.
-   **구현:**
    -   사용자가 최종적으로 '저장하기' 버튼을 눌렀을 때만 Diary 테이블에 데이터가 `INSERT` 되도록 로직 변경.
    -   분석 대기 시간의 지루함을 줄이기 위해 **로딩 UI(Loading Bar)** 추가.

---

## 3. KOTE 사전 학습 모델 실험 결과

> Colab 환경에서 진행되었으며, 결과가 만족스럽지는 않았습니다.

### 실험 1: KOTE 기본 학습 결과

-   **⚙️ 주요 설정:**
    -   **모델:** `klue/roberta-base`
    -   **데이터:** KOTE (44개 감정 라벨, 다중 레이블)
    -   **Epochs:** 5, **LR:** 2e-5, **Batch:** 16 (실질 32)
    -   **평가 지표:** Micro F1-Score
-   **📊 결과:**
    -   **F1 Score:** `0.6154` (61.54%)
    -   **Loss:** `0.2893`
    > 44개의 다중 레이블을 모두 학습해야 하므로 정확도(Accuracy)는 별도로 측정하지 않음.

### 실험 2: 수동 가중치 적용

-   **⚙️ 주요 설정:**
    -   **모델:** KOTE Pre-trained
    -   **클래스 가중치:** `[6.00, 4.50, 0.85, 1.80, 1.80, 0.92]`
    -   **Epochs:** 10, **LR:** 1e-5, **Warmup:** 0.1
-   **📊 결과:**
    -   **정확도 (Accuracy):** `0.542` (54.2%)
    -   **F1 Score:** `0.544`
    -   **Loss:** `1.20`

### 실험 3: 가중치 제거

-   **⚙️ 주요 설정 (변경점):**
    -   클래스 가중치 제거
    -   **LR:** 5e-6 (기존 1e-5)
    -   **Warmup:** 0.2 (기존 0.1)
-   **📊 결과:**
    -   **정확도 (Accuracy):** `58.45%`
    -   **F1 Score:** `58.37%`
    -   **Loss:** `1.4869`

---

## 4. 정리 및 다음 단계

KOTE 데이터셋을 활용한 사전 학습 모델은 아직 기대만큼의 성능을 보여주지 못했습니다. 특히 가중치를 제거하고 하이퍼파라미터를 조정한 모델이 소폭 더 나은 결과를 보였습니다.

오늘은 여기까지 개발을 마무리하며, 다음 단계에서는 실험 결과를 바탕으로 모델 개선 방향을 다시 설정할 예정입니다.
